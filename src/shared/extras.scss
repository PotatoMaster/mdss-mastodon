$levels-of-numbered-sections: length($automatic-section-numbering);

@if $levels-of-numbered-sections > 0 {
  body {
    $levels: "";
    @for $level from 1 through $levels-of-numbered-sections {
       $levels: #{$levels} section#{$level};
    }
    counter-reset: $levels;
  }

  @for $level from 1 through $levels-of-numbered-sections {
    #{nth($automatic-section-numbering, $level)} {
      @if $level < $levels-of-numbered-sections {
        @for $i from $level + 1 through $levels-of-numbered-sections {
          counter-reset: section#{$i};
        }
      }

      position: relative;
      counter-increment: section#{$level};
    }

    #{nth($automatic-section-numbering, $level)}:before {
      $label: counter(section1);

      @if $level >= 2 {
        @for $i from 2 through $level {
          $label: #{$label} '"."' counter(section#{$i});
        }
      }

      position: absolute;
      top: 0;
      right: calc(100% + #{$spacing-medium});
      direction: rtl;
      content: #{$label};
    }
  }
}