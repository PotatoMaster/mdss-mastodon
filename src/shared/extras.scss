@import "shared/mixins";

@if $convert-floating-symbols == true {
  strong > strong {
    @include symbol($symbol-color);
    margin-top: $page-font-size;
    right: -($spacing-large + $spacing-small);
  }
}

@if $convert-messages == true {
  em > code:only-child {
    @include message($message-accent-em, $message-symbol-em);
  }

  strong > code:only-child {
    @include message($message-accent-strong, $message-symbol-strong);
  }
}

$levels-of-numbered-sections: length($automatic-section-numbering);

@if $levels-of-numbered-sections > 0 {
  body {
    @for $level from 1 through $levels-of-numbered-sections {
      counter-reset: section#{$level};
    }
  }

  @for $level from 1 through $levels-of-numbered-sections {
    #{nth($automatic-section-numbering, $level)} {
      @if $level < $levels-of-numbered-sections {
        @for $i from $level + 1 through $levels-of-numbered-sections {
          counter-reset: section#{$i};
        }
      }

      position: relative;
      counter-increment: section#{$level};
    }

    #{nth($automatic-section-numbering, $level)}:before {
      $label: counter(section1);

      @if $level >= 2 {
        @for $i from 2 through $level {
          $label: #{$label} '"."' counter(section#{$i});
        }
      }

      position: absolute;
      top: 0;
      right: calc(100% + #{$spacing-large} + #{$spacing-small});
      direction: rtl;
      content: #{$label};
    }
  }
}